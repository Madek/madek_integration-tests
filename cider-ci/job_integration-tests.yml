Integration-Tests:
  priority: 10

  description: |
    This job must be run from the master project "Madek"!

  run-on:
  - type: branch
    include-match: ^.*$

  context:

    task-defaults:

      git-options:
        submodules:
          clone: True
          timeout: 60
      max-auto-trials: 1

      traits:
        bash: true
        git: true
        linux: true
        rbenv: true
        ruby: true

    subcontexts:

      - name: Features

        _cider-ci_include: cider-ci/contexts/feature_defaults.yml

        _cider-ci_generate-tasks:
          include-match: spec/features/.*_spec.rb


      - name: Unit

        _cider-ci_include: cider-ci/contexts/unit_defaults.yml

        _cider-ci_generate-tasks:
          include-match: spec/unit/.*_spec.rb

